<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Record 6b — Weekly Cleaning Schedule</title>
<style>
  :root {
    --line:#d1d5db; --bg:#f9fafb; --card:#fff; --accent:#ffd24d;
  }
  @page { size: A4 portrait; margin: 14mm; }
  body { font-family: Arial, sans-serif; background: var(--bg); margin:0; }
  .page { max-width: 850px; margin: 20px auto; padding: 10px; }
  .toolbar { display:flex; gap:8px; margin-bottom:12px; }
  .btn { border:0; padding:6px 14px; border-radius:6px; font-weight:600; cursor:pointer; }
  .btn--back { background: var(--accent); }
  .btn--print { background:#e5e7eb; }
  .btn--clear { background:#e5e7eb; }
  .card { background: var(--card); border:1px solid var(--line); border-radius:8px; padding:16px; }
  h1 { margin-top:0; font-size:18px; }
  .hint { font-size:13px; color:#555; margin-bottom:10px; }
  table { width:100%; border-collapse: collapse; margin-bottom:12px; }
  th, td { border:1px solid var(--line); padding:8px; text-align:center; }
  th { background:#f3f4f6; font-size:14px; }
  td.task { text-align:left; }
  input[type="checkbox"] { width:18px; height:18px; }
  input[type="date"] { padding:4px; }
  textarea { width:100%; min-height:80px; border:1px solid var(--line); border-radius:6px; padding:8px; }
  @media print { .toolbar{display:none} body{background:#fff} }
</style>
</head>
<body>
<div class="page">

  <div class="toolbar">
    <a href="kitchen.html"><button class="btn btn--back">← Back</button></a>
    <button class="btn btn--print" onclick="window.print()">Print</button>
    <button class="btn btn--clear" onclick="clearForm()">Clear</button>
  </div>

  <div class="card">
    <h1>Record 6b — Weekly Cleaning Schedule</h1>
    <p class="hint">Tick the day completed. Week starts on the date below.</p>

    <label>Week Commencing: <input type="date" id="weekStart"></label>

    <table>
      <thead>
        <tr>
          <th>Task</th>
          <th>Mon</th><th>Tue</th><th>Wed</th><th>Thu</th><th>Fri</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="task">Clean out fridge (shelves & doors)</td>
          <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
          <td><input type="checkbox"></td><td><input type="checkbox"></td>
        </tr>
        <tr>
          <td class="task">Clean inside of ovens</td>
          <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
          <td><input type="checkbox"></td><td><input type="checkbox"></td>
        </tr>
        <tr>
          <td class="task">Clean out chemical cupboard (refill if needed)</td>
          <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
          <td><input type="checkbox"></td><td><input type="checkbox"></td>
        </tr>
        <tr>
          <td class="task">Clean pantry (check expiry, wipe shelves & sill)</td>
          <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
          <td><input type="checkbox"></td><td><input type="checkbox"></td>
        </tr>
        <tr>
          <td class="task">Sweep & mop pantry floor</td>
          <td><input type="checkbox"></td><td><input type="checkbox"></td><td><input type="checkbox"></td>
          <td><input type="checkbox"></td><td><input type="checkbox"></td>
        </tr>
      </tbody>
    </table>

    <label for="notes">Notes / Corrective actions:</label>
    <textarea id="notes" placeholder="Describe action(s), who was notified, and outcome."></textarea>
  </div>
</div>

<script>
  const KEY = 'weekly_cleaning_v1';
  function save(){
    const data = {
      week: document.getElementById('weekStart').value,
      checks: Array.from(document.querySelectorAll('tbody input[type=checkbox]')).map(c=>c.checked),
      notes: document.getElementById('notes').value
    };
    localStorage.setItem(KEY, JSON.stringify(data));
  }
  function load(){
    const raw = localStorage.getItem(KEY);
    if(!raw) return;
    const d = JSON.parse(raw);
    document.getElementById('weekStart').value = d.week || '';
    document.getElementById('notes').value = d.notes || '';
    document.querySelectorAll('tbody input[type=checkbox]').forEach((c,i)=>{
      if(d.checks && d.checks[i]!==undefined) c.checked = d.checks[i];
    });
  }
  function clearForm(){
    document.getElementById('weekStart').value='';
    document.getElementById('notes').value='';
    document.querySelectorAll('tbody input[type=checkbox]').forEach(c=>c.checked=false);
    save();
  }
  document.addEventListener('input', save);
  window.addEventListener('load', load);
</script>
</body>
</html>
