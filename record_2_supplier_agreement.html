<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Record No. 2 – Supplier Agreement Register</title>

<style>
  :root {
    --ink:#111827;
    --line:#e5e7eb;
    --grid:#eef2f7;
    --head:#f6f8fb;
    --muted:#6b7280;
  }

  body {
    margin:0;
    font:14px/1.35 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:url("kitchen.jpg") center/cover fixed no-repeat;
    padding:20px;
    color:var(--ink);
  }

  .overlay {
    position:fixed; inset:0;
    background:rgba(255,255,255,.85);
    z-index:-1;
  }

  .wrap {
    max-width:1100px; margin:0 auto;
    background:#fff; border-radius:12px;
    border:1px solid var(--line);
    box-shadow:0 8px 22px rgba(0,0,0,.10);
    padding:18px 20px 22px;
  }

  /* toolbar */
  .toolbar {
    display:flex; gap:8px; flex-wrap:wrap;
    margin-bottom:10px;
  }
  .btn {
    border:0; border-radius:12px;
    padding:8px 14px;
    font-weight:700;
    background:#eef2f7; color:#0f172a;
    cursor:pointer;
    box-shadow:0 2px 6px rgba(2,6,23,.06);
  }
  .btn:hover { filter:brightness(.97); }
  .btn--back { background:#ffc107; color:#1f2937; }
  .btn--primary { background:#0d6efd; color:#fff; }

  h1 {
    font-size:20px; margin:8px 0 14px;
  }

  /* table */
  table {
    width:100%;
    border-collapse:separate;
    border-spacing:0;
    table-layout:fixed;
    border:1px solid var(--line);
    border-radius:12px;
    overflow:hidden;
  }
  th, td {
    border-right:1px solid var(--grid);
    border-bottom:1px solid var(--grid);
    padding:6px 8px;
    vertical-align:middle;
    background:#fff;
  }
  th:last-child, td:last-child { border-right:0; }
  tr:last-child td { border-bottom:0; }
  thead th {
    background:var(--head);
    text-align:center;
    font-weight:700;
    font-size:13px;
  }

  /* inputs */
  input {
    width:100%; height:30px;
    border:1px solid var(--line);
    border-radius:10px;
    padding:4px 8px;
    font:inherit;
    background:#fff;
    box-sizing:border-box;
  }
  input.center { text-align:center; }
  .init { max-width:70px; text-align:center; text-transform:uppercase; }

  .note {
    font-size:12px; color:var(--muted);
    margin-top:8px;
  }

  /* print */
  @page { size:A4 landscape; margin:10mm; }
  @media print {
    .toolbar { display:none }
    body { background:#fff }
    .overlay { display:none }
  }
</style>
</head>
<body>
<div class="overlay"></div>

<div class="wrap">
  <!-- Toolbar -->
  <div class="toolbar">
    <a href="kitchen.html"><button class="btn btn--back">← Back</button></a>
    <button class="btn" onclick="window.print()">Print</button>
    <button class="btn" onclick="clearForm()">Clear</button>
    <button class="btn btn--primary" onclick="saveForm()">Save</button>
  </div>

  <h1>Record No. 2 – Supplier Agreement Register</h1>

  <table id="tbl">
    <colgroup>
      <col style="width:15%">
      <col style="width:25%">
      <col style="width:30%">
      <col style="width:15%">
      <col style="width:15%">
    </colgroup>
    <thead>
      <tr>
        <th>Date</th>
        <th>Supplier</th>
        <th>Agreement / Terms Summary</th>
        <th>Reviewed By (Init.)</th>
        <th>Review Date</th>
      </tr>
    </thead>
    <tbody id="rows"></tbody>
  </table>

  <div class="note">
    <b>Note:</b> Use for supplier agreements, service levels, verified accreditations. Review annually or on change.
  </div>
</div>

<script>
  const KEY = 'mdk_record2_v1';

  function pad(n){ return String(n).padStart(2,'0'); }
  function fmtDate(d=new Date()){ return pad(d.getDate())+'/'+pad(d.getMonth()+1)+'/'+d.getFullYear(); }

  function addRow(){
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td><input class="center dt" placeholder="dd/mm/yyyy"></td>
      <td><input placeholder="Supplier name"></td>
      <td><input placeholder="Summary of terms / accreditation"></td>
      <td><input class="init" maxlength="3" placeholder=""></td>
      <td><input class="center dt" placeholder="dd/mm/yyyy"></td>
    `;
    return tr;
  }

  function build(){
    const tbody=document.getElementById('rows');
    for(let i=0;i<10;i++) tbody.appendChild(addRow());
    document.querySelectorAll('.dt').forEach(el=>{
      el.addEventListener('focus', ()=>{ if(!el.value) el.value=fmtDate(); });
    });
  }

  function saveForm(){
    const vals=[...document.querySelectorAll('#tbl input')].map(i=>i.value);
    localStorage.setItem(KEY, JSON.stringify(vals));
    alert("Saved locally.");
  }
  function loadForm(){
    const raw=localStorage.getItem(KEY);
    if(!raw) return;
    const vals=JSON.parse(raw)||[];
    [...document.querySelectorAll('#tbl input')].forEach((el,i)=>{ if(vals[i]) el.value=vals[i]; });
  }
  function clearForm(){
    document.querySelectorAll('#tbl input').forEach(el=>el.value='');
    localStorage.removeItem(KEY);
  }

  build(); loadForm();
</script>
</body>
</html>
