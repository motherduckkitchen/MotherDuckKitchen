<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Record 6b ‚Äî Weekly Cleaning Schedule</title>
<style>
  :root{--ink:#0f172a;--ring:#d1d5db;--bgw:rgba(255,255,255,.88);--accent:#ffc107;--brand:#0ea5e9;}
  html,body{height:100%;margin:0;font-family:system-ui,Arial,sans-serif;color:var(--ink);
    background:url("kitchen.jpg") center/cover fixed no-repeat;}
  .wash{position:fixed;inset:0;background:rgba(255,255,255,.65);z-index:0;}
  main{position:relative;z-index:1;max-width:1000px;margin:28px auto;padding:22px;background:var(--bgw);
    border-radius:14px;box-shadow:0 14px 40px rgba(0,0,0,.12);}
  header{display:flex;gap:10px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:10px}
  h1{margin:8px 0;font-size:clamp(18px,2.4vw,26px);font-weight:800}
  .btn{display:inline-flex;align-items:center;gap:.5rem;border:none;border-radius:10px;padding:10px 14px;background:#f3f4f6;cursor:pointer;font-weight:600}
  .btn--accent{background:var(--accent)}
  .pill{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  input[type="date"]{padding:10px 12px;border:1px solid var(--ring);border-radius:10px;background:#fff}
  table{width:100%;border-collapse:separate;border-spacing:0 10px}
  thead th{font-size:.9rem;text-align:center}
  th,td{padding:8px}
  .row{background:#fff;border:1px solid var(--ring);border-radius:12px;overflow:hidden}
  .task{width:70%;font-weight:600}
  .days{width:30%;text-align:center;white-space:nowrap}
  .chk{appearance:none;width:28px;height:28px;border:2px solid var(--ring);border-radius:9px;background:#fff;cursor:pointer}
  .chk:checked{background:var(--brand);border-color:var(--brand)}
  @media print{ body{background:none}.wash{background:#fff} main{box-shadow:none;margin:0;padding:0} header .btn{display:none} }
</style>
</head>
<body>
<div class="wash"></div>
<main>
  <header>
    <div>
      <a class="btn btn--accent" href="kitchen.html">‚Üê Back</a>
      <button class="btn" onclick="print()">üñ®Ô∏è Print</button>
      <button class="btn" id="clearBtn">‚úñ Clear</button>
    </div>
    <h1>Record 6b ‚Äî Weekly Cleaning</h1>
    <div class="pill">
      <label for="wc"><strong>Week commencing:</strong></label>
      <input id="wc" type="date">
    </div>
  </header>

  <table>
    <thead>
      <tr><th class="task">Task</th><th>M</th><th>T</th><th>W</th><th>T</th><th>F</th></tr>
    </thead>
    <tbody id="rows"></tbody>
  </table>
</main>

<script>
(function(){
  const KEY = location.pathname + "::v1";
  const tasks = [
    "Clean out fridge (wipe over shelves and inside doors)",
    "Clean inside of ovens",
    "Clean out chemical cupboard (refill when required)",
    "Clean pantry (wipe each shelf; check & discard expired items; wipe windowsill)",
    "Sweep & mop pantry floor"
  ];

  const rows = document.getElementById('rows');
  tasks.forEach((t,i)=>{
    const tr=document.createElement('tr'); tr.className='row';
    tr.innerHTML = `
      <td class="task">${t}</td>
      ${['m','t','w','th','f'].map(d=>`<td class="days"><input class="chk" type="checkbox" data-k="${i}-${d}"></td>`).join('')}
    `;
    rows.appendChild(tr);
  });

  const state = JSON.parse(localStorage.getItem(KEY) || "{}");
  document.querySelectorAll('.chk').forEach(chk=>{
    const k=chk.dataset.k; if
